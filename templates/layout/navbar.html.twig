<header
	id="header" class="py-0">
	{# hidden moto #}
	<div class="container position-absolute opacity-0">
		<div class="row">
			<div class="col-12">
				<h1 class="text-center">Une décoration inspirée par la nature</h1>
			</div>
		</div>
	</div>
	{#  #}

	<nav class="navbar navbar-expand-sm">
		<div
			class="container-fluid bgc">
			{# Logo and link to main page #}
			<a href="{{ path('app_main') }}" class='w-25 w-sm-15 w-lg-10 w-xl-705 w-xxl-5' id="logo">
				<img src="/media/images/logos/logo_transparent.png" alt="logo" class="img-fluid"/>
			</a>

			{# navbar collapse button #}
			<button class="navbar-toggler hamburger hamburger--collapse rounded-circle ms-auto huge px-1" type="button" data-bs-toggle="collapse" data-bs-target="#headerSupportedContent" aria-controls="headerSupportedContent" aria-expanded="false" aria-label="Toggle navigation" id="collapse_toggler_header">
				<span class="hamburger-box">
					<span class="hamburger-inner"></span>
				</span>
			</button>
			{#  #}

			{# section of the users profile and cart #}
			<div class="collapse navbar-collapse gap-3" id="headerSupportedContent">
				<ul class="navbar-nav mt-3 my-md-auto justify-content-md-end justify-content-evenly gap-3 gap-sm-4 list-group-verical ms-auto" id="list">
					{% if is_granted('IS_AUTHENTICATED_FULLY') %}
						{# link to cart or dashboar if user is admin#}
						{% if 'ROLE_ADMIN' in app.user.roles %}
							<li class="nav-item">
								<a href="{{ path('admin') }}" class="d-flex justify-content-center align-self-center btn btn-header flex-shrink-0 rounded-pill" aria-current="page">
									<i class="fa-solid fa-list align-self-center navbar_text_shadow bi_big"></i>
									<div class="p-1"></div>
									<div class="fw-bold fs-5 align-self-center navbar_text_shadow">Dashboard</div>
								</a>
							</li>
							{% else %}
						{% endif %}
						{# link to profile #}
						<li class="nav-item">
							<div class="dropdown">
								<div class="d-flex flex-column justify-content-center align-self-center btn btn-header flex-shrink-0 rounded-pill " type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
									{% if app.user.avatar %}
										<div class="tiny">
											<img src="{{ asset('images/profiles/' ~ app.user.avatar) }}" alt="{{ app.user.avatar }}" class="img-fluid rounded-circle">
										</div>
									{% else %}
										<svg
											fill='currentColor' xmlns="http://www.w3.org/2000/svg" height="2em" viewbox="0 0 448 512">
											<!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
											<path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
										</svg>
									{% endif %}
									<div class="fw-bold fs-5 align-self-center navbar_text_shadow">Mon compte</div>
								</div>
								<ul class="dropdown-menu dropdown-menu-end mt-2 mt-md-3" id="profile_dropdown">
									<h6 class="dropdown-header text-center fw-bold">{{ app.user.firstName }}
										{{ app.user.lastName }}</h6>
									<li><hr class="dropdown-divider"></li>
									<li>
										<a class="dropdown-item d-flex justify-content-between align-items-center" {# href="{{ path('app_profile') }}" #}>
											{% include "./layout/_user_icon.html.twig" %}
											Profil</a>
									</li>
									<li><hr class="dropdown-divider"></li>
									<li>
										<a class="dropdown-item d-flex justify-content-between align-items-center" {# href="{{ path('app_profile_settings') }}" #}>
											{% include "./layout/_reservations_icon.html.twig" %}
											Réservations
										</a>
									</li>
									<li><hr class="dropdown-divider"></li>
									<li>
										<a class="dropdown-item d-flex justify-content-between align-items-center" {# href="{{ path('app_profile_settings') }}" #}>
											{% include "./layout/_orders_icon.html.twig" %}
											Mes Albums
										</a>
									</li>
									<hr class="dropdown-divider">
									<hr class="dropdown-divider">
									<li>
										<a class="dropdown-item d-flex justify-content-between align-items-center rounded-bottom-3" href="{{ path('app_logout') }}">
											{% include "./layout/_logout_icon.html.twig" %}
											Sign out</a>
									</li>
								</ul>
							</div>
						</li>
						{# link to logout #}
					</li>
				{% else %}
					{# link to login #}
					<li class="nav-item">
						<a href="{{ path('app_login') }}" class="d-flex flex-row flex-sm-column gap-3 gap-sm-0 justify-content-center align-self-center btn btn-header flex-shrink-0 rounded-pill" aria-current="page">
							<svg
								xmlns="http://www.w3.org/2000/svg" height="2em" viewbox="0 0 512 512">
								<!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
								<path d="M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/>
							</svg>
							<div class="fw-bold fs-5 align-self-center navbar_text_shadow">Sign in</div>
						</a>
					</li>

					{# link to register #}
					<li class="nav-item">
						<a href="{{ path('app_register') }}" class="d-flex flex-row flex-sm-column gap-3 gap-sm-0 justify-content-center align-self-center btn btn-header flex-shrink-0 rounded-pill" aria-current="page">
							<svg
								xmlns="http://www.w3.org/2000/svg" height="2em" viewbox="0 0 576 512">
								<!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
								<path d="M0 96l576 0c0-35.3-28.7-64-64-64H64C28.7 32 0 60.7 0 96zm0 32V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V128H0zM64 405.3c0-29.5 23.9-53.3 53.3-53.3H234.7c29.5 0 53.3 23.9 53.3 53.3c0 5.9-4.8 10.7-10.7 10.7H74.7c-5.9 0-10.7-4.8-10.7-10.7zM176 192a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm176 16c0-8.8 7.2-16 16-16H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H368c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H368c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H368c-8.8 0-16-7.2-16-16z"/>
							</svg>
							<div class="fw-bold fs-5 align-self-center navbar_text_shadow">Sign up</div>
						</a>
					</li>
				{% endif %}
			</ul>
		</div>
		{#  #}
	</div>
</nav>
{% if app.user and app.user.isVerified == false  %}
	<div class="alert alert-warning alert-dismissible mb-0" role="alert">
		<button type="button" class="btn btn-close" data-bs-dismiss="alert" aria-label="close"></button>
		<div class="alert-message">
			<strong>Votre compte n'est pas activé</strong>,
			{# <a href="{{ path('app_resend_verify') }}">renvoyer le lien d'activation</a> #}
		</div>
	</div>
{% endif %}
{% include "./layout/_flash.html.twig" %}</header>
